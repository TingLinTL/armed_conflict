---
title: "Exploratory data analysis"
format: pdf
editor: visual
---

## Exploratory data analysis

Name: Ting Lin

First of all, I would like to perform `summary()` to check some generic information about our data set.

```{r}
library(here)
library(tidyverse)
source("R/FinalMergedData.R")
head(allfinal,n=10)
tail(allfinal, n=10)
summary(allfinal)

```

From the `summery()`, there are 426 missing values for Maternal Mortality Rate, 62 missing values for gpd100, 20 missing values for popdens, urban, male_edu, temp, rainfall1000, Infant Mortality Rate, Neonatal Mortality Rate and Under5 Mortality Rate.

Then I would like to look at Total Death in details.

The Minimum value for total death is 20, and Maximum is 78644. The range is pretty wide.

I would like to locate which country has the maximum total death and visualize it by year to see the patterns for this specific country.

```{r}
# visualize Maternal Mortality Rate by year.
max_death_country <- allfinal$country_name[which.max(allfinal$totaldeath)]
print(max_death_country)
library(ggplot2)

   
```

And the answer is Syria.

```{r}
library(ggplot2)
library(gridExtra)
Syria <- allfinal[allfinal$country_name == "Syria",]
plot1 <- Syria %>% 
  ggplot(mapping = aes(x = factor(year), y = totaldeath)) +
  geom_line(na.rm = TRUE, group = 1, color="red") +  
  geom_point(na.rm = TRUE,shape=21, color="red", fill="pink", size=2) +
  scale_x_discrete(breaks = unique(Syria$year)) +
  theme(panel.background = element_rect(fill = "lightgrey", color = "black"))
plot2 <- Syria %>% 
  ggplot(mapping = aes(x = factor(year), y = MaternalMortalityRate)) +
  geom_line(na.rm = TRUE, group = 1, color = "blue") +  
  geom_point(na.rm = TRUE, shape = 21, color = "blue", fill = "lightblue", size = 2) +
  scale_x_discrete(breaks = unique(Syria$year)) +
  theme(panel.background = element_rect(fill = "lightgrey", color = "black"),
        axis.text.x = element_text(margin = margin(t = 50)))
plot3 <- Syria %>% 
  ggplot(mapping = aes(x = factor(year), y = InfantMortalityRate)) +
  geom_line(na.rm = TRUE, group = 1, color = "orange") +  
  geom_point(na.rm = TRUE, shape = 21, color = "orange", fill = "orange", size = 2) +
  scale_x_discrete(breaks = unique(Syria$year)) +
  theme(panel.background = element_rect(fill = "lightgrey", color = "black"))
plot4 <- Syria %>% 
  ggplot(mapping = aes(x = factor(year), y = NeonatalMortalityRate)) +
  geom_line(na.rm = TRUE, group = 1, color = "purple") +  
  geom_point(na.rm = TRUE, shape = 21, color = "purple", fill = "purple", size = 2) +
  scale_x_discrete(breaks = unique(Syria$year)) +
  theme(panel.background = element_rect(fill = "lightgrey", color = "black"))
plot5 <- Syria %>% 
  ggplot(mapping = aes(x = factor(year), y = Under5MortalityRate)) +
  geom_line(na.rm = TRUE, group = 1, color = "green") +  
  geom_point(na.rm = TRUE, shape = 21, color = "green", fill = "green", size = 2) +
  scale_x_discrete(breaks = unique(Syria$year)) +
  theme(panel.background = element_rect(fill = "lightgrey", color = "black"))

plot1
plot2
plot3
plot4
plot5
#plotall4 <- grid.arrange(plot2, plot3, plot4, plot5, ncol = 2)
#plotall4
```
